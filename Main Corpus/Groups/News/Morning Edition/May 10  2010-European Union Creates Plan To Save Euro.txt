 Wall Street opened strong this morning following the lead of surging stock markets in Europe. That is on news of a global emergency rescue package worked out over the weekend. European leaders agreed to the plan to help avoid a major debt crises in Greece and other European countries. The package of loans and loan guarantees comes to nearly one trillion dollars dwarfing any previous proposal. NPR's Tom Gjelten reports from Madrid.  The deal was announced early this morning after marathon negotiations in Brussels between European finance ministers European Central Bank officials and the IMF. European leaders were desperate to announce something that would impress the markets before they opened today and they did meet that goal. Analysts say this is genuinely a shock-and-awe package. The details are still vague but here's what is been announced so far The European Union will itself guarantee about 80 billion worth of loans to countries in financial difficulty. EU member states individually will guarantee another 570 billion in loans. Those are the big chunks. In addition the European Central Bank announced it will buy government bonds something it was refusing to do just a few days ago. Olli Rehn the EU monetary affairs commissioner announced the package in an early morning news conference. Mr.  The financial assistance by the commission and by the member states and the actions taken today by the ECB proves that we shall defend the euro whatever it takes.  Rehn's reference to defending the euro is in keeping with the language used over the last few days by many European leaders. They claim the euro has been under attack by speculators and say its slide in financial markets has been irrational. The Swedish finance minister yesterday said the markets have shown quote wolf pack behavior. The European leaders felt they needed to send a strong message that no country in the euro zone would be allowed to fail. Greece has been the country on a line unable to make its debt payments and in great danger of defaulting. Going into the meetings in Brussels on Saturday however Greek Prime Minister George Papandreou was anxious to argue that it was not just the fate of his country that was at stake. Prime Minister  The need to safeguard the euro zone goes beyond Greece's problems. That is why the decisions we have taken show our common determination to work together and in doing so safeguard the stability of our common currency in Europe but also safeguard the stability of Europe itself.  IMF officials were part of the negotiations and the fund came up with another huge contribution beyond what it had promised Greece just a few days ago. Again the EU's Olli Rehn. Mr.  The IMF will participate in financing arrangements and is expected to provide at least half as much as the European Union.  More than 300 billion in fact. The total package is somewhat controversial. Under the treaty governing the European Union countries are not supposed to bail each other out. The loan guarantees are being justified by a provision in the European Union treaty that allows for aid to countries that are experiencing difficulties quote caused by exceptional circumstances beyond their control. Analysts say that provision was meant to apply more to natural disasters like earthquakes and hurricanes than financial disasters. But it appears no European country will object. The more serious issues is whether this aid package will really work in the long run. Many questions are raised. Are these countries really good for this money? All have their own budget difficulties to worry about. Just as important can these loan guarantees really keep Greece from defaulting or help it return to growth? In addition to making its debt payments Greece is obligated to close its budget deficit. That'ill mean cutting benefits for the Greek population and possibly choking off-growth. Many analysts remain convinced that in the long run Greece will have no choice but to default on its debt or even drop the euro as its currency at least temporarily. But in the short run the package is likely to reassure the markets and buy European officials a little time. Tom Gjelten NPR News Madrid.   You are listening to PR News. 